<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="../static/img/Asset_1.ico">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <title>SoundBytes</title>
</head>

<body>
    <div class="mx-auto position px-5">
        <form action="{{ url_for('index') }}" method="POST">
            <h1 for="query" class="display-1 form-label text-light"><img src="../static/img/logo.svg" alt="title"></h1>
            <div class="form-items">
                <input type="text" name="topic" class="form-control form-control-lg me-2 me-2-enlarge mt-2" id="query" aria-describedby="searchBox" placeholder="Search to listen and learn" style="min-width: 21rem;">
                <div class="d-flex mt-2">
                    <select name="source" class="form-select form-select-lg me-2" aria-label="Select source" style="min-width: 13rem">
                        <option selected value="random">Random source</option>
                        <option value="BBC">BBC</option>
                        <option value="FOX">Fox</option>
                        <option value="CNN">CNN</option>
                    </select>
                    <button id="submitButton" type="submit" class="btn btn-outline-info btn-lg btn-go">Go</button>
                </div>
            </div>
        </form>
    </div>
    <div id="loading" class="loading f-center">
        <div class="v-center loading-anim"></div>
        <div class="v-center-text-above fs-3">&nbsp;<span id="loading-message"></span>&nbsp;</div>
    </div>
    <script>
        /* Generate loading message script */
        const messages = [
            "Gathering the latest news from around the world, please wait.",
            "Updating the headlines, just a moment more.",
            "We're digging deep to bring you the most important stories. Standby...",
            "Bringing you the truth, one byte at a time.",
            "Sifting through the noise to bring you the news that matters.",
            "We're collecting the top stories of the day for your reading pleasure.",
            "Hunting down the best sources for the most accurate news.",
            "We're packaging the day's events for your convenience.",
            "We're connecting the dots to bring you the full picture of the news.",
            "We're uncovering the facts and separating them from the fiction."
        ]
        function displayRandomMessage() {
            // get a random index from the messages array
            let randomIndex = Math.floor(Math.random() * messages.length)
            let message = messages[randomIndex]
            document.getElementById("loading-message").innerHTML = message
        }

        document.getElementById("submitButton").addEventListener("click", function() {
            displayRandomMessage()
            document.getElementById("loading").style.display = "flex"
        })
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>

</html>